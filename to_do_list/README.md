# Django TODO Project
## Описание
Это веб-приложение на Django для управления задачами (TODO). Приложение поддерживает аутентификацию пользователей и работу с задачами, используя Django и базу данных PostgreSQL или SQLite. Проект использует контейнеризацию с помощью Docker для упрощения развертывания. Создано API для следующих действий:

- **Регистрация пользователя**: Пользователь может создать себе учётную запись.
- **Получение и обновление Bearer токена**: Пользователь может получить новый или обновить старый токен авторизации.
- **Создание задачи**: Пользователь может создать новую задачу.
- **Просмотр списка задач**: Пользователь может получить список всех задач.
- **Просмотр задачи по ID**: Пользователь может получить задачу по её уникальному ID.
- **Редактирование задачи**: Пользователь может редактировать существующую задачу.
- **Удаление задачи**: Пользователь может удалять задачу.

### Примеры API-запросов
- **Создать учётную запись (POST)**: `/register/`
- **Получить Bearer токен (POST)**: `/token/`
- **Обновить Bearer токен (POST)**: `/token/refresh/`
- **Создать задачу (POST)**: `/api/tasks/`
- **Просмотреть все задачи (GET)**: `/api/tasks/`
- **Просмотреть задачу по ID (GET)**: `/api/tasks/{id}/`
- **Редактировать задачу (PUT)**: `/api/tasks/{id}/`
- **Удалить задачу (DELETE)**: `/api/tasks/{id}/`

## Автотесты для CRUD операций
Для проверки функциональности API разработаны автотесты, покрывающие следующие действия:

- **Создание задачи**.
- **Просмотр списка задач**.
- **Просмотр отдельной задачи по ID**.
- **Редактирование задачи**.
- **Удаление задачи**.

## Основные технологии
- **Django**: Web-фреймворк для Python, используемый для создания приложения.
- **PostgreSQL/SQLite**: СУБД для хранения данных.
- **Docker**: Используется для контейнеризации приложения и базы данных.
- **Django REST Framework**: Для реализации API.

## Требования
- Docker
- Docker Compose

## Запуск проекта

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/ваш-репозиторий.git
   cd ваш-репозиторий

2. Создайте файл .env в корне проекта, если его нет. Пример содержания .env файла можно найти в .env.example:

   ```bash
    SECRET_KEY='ваш-секретный-ключ'
    DEBUG=True/False

    ENABLE_POSTGRES_DB=True
    POSTGRES_DB=to_do_db
    POSTGRES_USER=django_to_do
    POSTGRES_PASSWORD=some_pass_123
    DB_HOST=db
    DB_PORT=5432

3. Для запуска из IDE:
   1. Выставьте флаг DEBUG на True - для работы в режиме отладки
   2. Выставьте флаг ENABLE_POSTGRES_DB на False для подключения базы SQLite
   3. ```bash
      python3 manage.py migrate # Применить миграции
      python3 manage.py createsuperuser # Создать супер-пользователя
      python3 manage.py runserver # Запустить сервер

4. Для запуска с помощью Docker Compose:
   1. Выставьте флаг DEBUG на False - для разворачивания проекта в проде
   2. Выставьте флаг ENABLE_POSTGRES_DB на True для подключения базы PostgreSQL
   3. ```bash
      docker-compose up -d --build # Создание docker-композиции
      docker compose exec backend python3 manage.py collectstatic # Сбор статики Джанго
      docker compose exec backend cp -r /app/collected_static/. /backend_static/static/ # Копирование статики в volume
      docker compose exec backend python3 manage.py migrate # Применить миграции
      python3 manage.py createsuperuser # Создать супер-пользователя